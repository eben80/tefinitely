<!DOCTYPE html>
<html lang="en">
<head>
    <base href="/">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TEFinitely - TEF Canada Training</title>
    <link rel="icon" href="img/favicon/favicon.ico" sizes="any">
    <link rel="icon" href="img/favicon/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="img/favicon/apple-touch-icon.png">
    <link rel="manifest" href="img/favicon/site.webmanifest">
    <link rel="stylesheet" href="css/toast.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
    <style>
      /* Styles specific to the flashcard app */
      .flashcard-app-container { max-width: 800px; margin: 2rem auto; padding: 0 1rem; }
      .flashcard {
          background-color: transparent;
          width: 100%;
          max-width: 600px;
          height: 200px;
          perspective: 1000px;
          margin: auto;
          margin-bottom: 1rem;
          cursor: pointer;
      }
      .flashcard-inner {
          position: relative;
          width: 100%;
          height: 100%;
          text-align: center;
          transition: transform 0.6s;
          transform-style: preserve-3d;
          box-shadow: 0 4px 8px 0 rgba(0,0,0,0.1);
      }
      .flashcard.is-flipped .flashcard-inner { transform: rotateY(180deg); }
      .flashcard-front, .flashcard-back {
          position: absolute;
          width: 100%;
          height: 100%;
          -webkit-backface-visibility: hidden;
          backface-visibility: hidden;
          display: flex;
          align-items: center;
          justify-content: center;
          border-radius: 8px;
          background-color: #fff;
          padding: 1rem;
          box-sizing: border-box;
      }
      .flashcard-back { transform: rotateY(180deg); }
      #phraseFrench { font-size: 1.4rem; font-weight: bold; }
      #phraseEnglish { font-size: 1.1rem; color: #555; }
      #paypal-button-container { max-width: 300px; margin: 2rem auto 0 auto; }
    </style>
    <script>
      // Dynamically load PayPal SDK
      (async () => {
          try {
              const response = await fetch('api/paypal/get_config.php');
              const config = await response.json();
              if (config.client_id && config.client_id !== 'YOUR_PAYPAL_CLIENT_ID') {
                  const script = document.createElement('script');
                  script.src = `https://www.paypal.com/sdk/js?client-id=${config.client_id}&currency=CAD&intent=subscription&vault=true`;
                  script.setAttribute('data-plan-id', config.plan_id);
                  script.id = 'paypal-sdk-script';
                  document.head.appendChild(script);
              } else {
                  console.error('PayPal client_id is not configured.');
              }
          } catch (error) {
              console.error('Failed to load PayPal config:', error);
          }
      })();
    </script>
</head>
<body class="landing-page">
<div id="toast-container"></div>
<header class="main-header">
    <nav class="main-nav" id="main-nav">
        <a href="index.html" class="nav-brand">
            <img src="img/top_logo_light.png" alt="TEFinitely Logo">
        </a>
        <button class="nav-toggle" aria-label="Toggle navigation">
            <i class="bi bi-list"></i>
        </button>
        <div class="nav-links">
            <div id="guest-links">
                <a href="#features">Features</a>
                <a href="#testimonials">Testimonials</a>
                <a href="login.html" class="nav-button-secondary">Log In</a>
                <a href="signup.html" class="nav-button-primary">Sign Up</a>
            </div>
            <div id="user-links" style="display: none;">
                <a href="index.html" class="active">Flashcards</a>
                <a href="training.html">Phased Training</a>
                <a href="profile.html">Profile</a>
                <a id="admin-link" href="admin.html" style="display: none;">Admin</a>
                <div class="nav-user">
                    <span id="user-name-display"></span>
                    <button id="logoutBtn">Logout</button>
                </div>
            </div>
        </div>
    </nav>
</header>

<!-- This container holds content for logged-out users -->
<div id="landing-page-container">
    <section class="hero">
        <div class="hero-content">
            <h1>Your Guide to Succeeding on the TEF Canada Exam</h1>
            <p>Go from hesitant to fluent with our unique, phased training system. Everything you need, all in one place.</p>
            <a href="signup.html" class="nav-button-primary">Get Started Now</a>
        </div>
    </section>
    <section id="features" class="features-section">
      <h2>Why Choose Our Platform?</h2>
      <div class="features-grid">
          <div class="feature-item">
              <i class="bi bi-lightbulb-fill"></i>
              <h3>Expert Guidance</h3>
              <p>Benefit from professional advice to maximize your TEF Canada exam prep.</p>
          </div>
          <div class="feature-item">
              <i class="bi bi-card-checklist"></i>
              <h3>Exam-Focused Prep</h3>
              <p>Practice with resources designed to align with the TEF Canada exam structure.</p>
          </div>
          <div class="feature-item">
              <i class="bi bi-ear-fill"></i>
              <h3>Tailored Support</h3>
              <p>Get tailored feedback to enhance your performance in each exam section.</p>
          </div>
          <div class="feature-item">
              <i class="bi bi-laptop-fill"></i>
              <h3>Flexible Learning</h3>
              <p>Prepare at your own pace with accessible and convenient study options.</p>
          </div>
      </div>
    </section>
    <section id="testimonials" class="testimonials-section">
        <h2>What Our Students Say</h2>
        <div class="testimonial-grid">
            <div class="testimonial-item">
                <blockquote>"Preparing for the TEF Canada exam was overwhelming until I found this site. The structured approach saved me so much time and effort."</blockquote>
                <cite>– Charlotte R.</cite>
            </div>
            <div class="testimonial-item">
                <blockquote>"The speaking resources were exactly what I needed. The personalized feedback was incredibly helpful and boosted my confidence for the exam."</blockquote>
                <cite>– Isabella L.</cite>
            </div>
            <div class="testimonial-item">
                <blockquote>"I passed on my first attempt! The resources were clear, detailed, and perfectly aligned with the TEF Canada exam format. Thank you!"</blockquote>
                <cite>– James D.</cite>
            </div>
        </div>
    </section>
</div>

<!-- This container holds the flashcard app for logged-in, subscribed users -->
<div id="flashcard-app-container" class="flashcard-app-container" style="display: none;">
    <h1>Flashcards</h1>
    <div id="controls" style="margin-bottom: 2rem;">
      <label for="topicSelect">Select Topic:</label><br>
      <select id="topicSelect" class="form-control">
          <option value="">-- Choose a topic --</option>
      </select>
      <span id="topic-progress-display" style="margin-left: 1rem; font-weight: bold; font-size: 0.9rem;"></span>
    </div>
    <div id="phraseBox" style="display:none;">
        <div class="flashcard">
            <div class="flashcard-inner">
                <div class="flashcard-front">
                    <p id="phraseEnglish"></p>
                </div>
                <div class="flashcard-back">
                    <p id="phraseFrench"></p>
                </div>
            </div>
        </div>
        <div id="navButtons" style="text-align: center; margin-top: 1rem;">
            <button id="firstCardBtn" class="btn-secondary">&lt;&lt;</button>
            <button id="prevPhraseBtn" class="btn-secondary" disabled>Previous</button>
            <button id="flipCardBtn" class="btn-primary">Flip</button>
            <button id="playPhraseBtn" class="btn-primary">Play Phrase</button>
            <button id="nextPhraseBtn" class="btn-secondary" disabled>Next</button>
        </div>
        <div id="pagination-display" style="text-align: center; margin-top: 1rem; font-weight: bold;">
            <span id="current-card"></span> / <span id="total-cards"></span>
        </div>
    </div>
</div>

<!-- This container holds the prompt for logged-in, non-subscribed users -->
<div id="subscription-prompt-container" class="page-container" style="display: none;">
    <div class="subscription-prompt main-content">
        <h2>Unlock Your Full Potential</h2>
        <p class="lead">Your subscription is inactive. Subscribe now to get full access to all our training features.</p>
        <ul class="benefits-list">
            <li>Access all training modules</li>
            <li>Practice with unlimited phrases</li>
            <li>Track your progress</li>
            <li>Cancel anytime</li>
        </ul>
        <div id="paypal-button-container"></div>
    </div>
</div>

<div id="tour-overlay" class="tour-overlay" style="display:none;">
    <div id="tour-popup" class="tour-popup">
        <h2 id="tour-title"></h2>
        <p id="tour-content"></p>
        <div class="buttons">
            <button id="tour-skip" class="btn-secondary">Skip</button>
            <button id="tour-next" class="btn-primary">Next</button>
        </div>
    </div>
</div>

<footer class="site-footer">
    <p>© 2025 TEFinitely.ca | All Rights Reserved</p>
</footer>

<script src="js/toast.js"></script>
<script src="js/main.js"></script>
<script src="js/flashcards.js"></script>

</body>
</html>
