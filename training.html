<!DOCTYPE html>
<html lang="fr">
<head>
    <base href="/">
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>TEF Canada Training - New Methods</title>
    <link rel="icon" href="img/favicon/favicon.ico" sizes="any">
    <link rel="icon" href="img/favicon/favicon.svg" type="image/svg+xml">
    <link rel="apple-touch-icon" href="img/favicon/apple-touch-icon.png">
    <link rel="manifest" href="img/favicon/site.webmanifest">
    <link rel="stylesheet" href="css/toast.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css">
</head>
<body>
<div id="toast-container"></div>
<header class="main-header">
    <nav class="main-nav" id="main-nav">
        <a href="index.html" class="nav-brand">
            <img src="img/top_logo_light.png" alt="TEFinitely Logo">
        </a>
        <button class="nav-toggle" aria-label="Toggle navigation">
            <i class="bi bi-list"></i>
        </button>
        <div class="nav-links">
            <div id="guest-links" style="display: none;">
                <a href="login.html" class="nav-button-secondary">Log In</a>
                <a href="signup.html" class="nav-button-primary">Sign Up</a>
            </div>
            <div id="user-links" style="display: none;">
                <a href="index.html">Flashcards</a>
                <a href="training.html" class="active">Phased Training</a>
                <a href="profile.html">Profile</a>
                <a id="admin-link" href="admin.html" style="display: none;">Admin</a>
                <div class="nav-user">
                    <span id="user-name-display"></span>
                    <button id="logoutBtn">Logout</button>
                </div>
            </div>
        </div>
    </nav>
</header>

<div class="page-container">
    <main class="main-content">
        <h1>Phased Training Methods</h1>
        <div id="global-controls" class="admin-section" style="margin-bottom: 2rem;">
            <label for="speechRate">Speech Speed:</label>
            <input type="range" id="speechRate" min="0.5" max="1.2" value="1.0" step="0.1" />
            <span id="rateDisplay">1.0</span>x
        </div>
        <div class="training-nav">
            <button id="phase1-btn" class="active">Phase 1: Shadowing</button>
            <button id="phase2-btn">Phase 2: Question Drills</button>
            <button id="phase3-btn">Phase 3: Roleplays</button>
            <button id="phase4-btn">Phase 4: Spontaneity</button>
            <button id="phase5-btn">Phase 5: Script Writing</button>
        </div>

        <div id="phase1-module" class="training-module active admin-section">
            <h2>Phase 1: Shadowing Practice</h2>
            <p>Familiarize yourself with the structure of TEF Section A. Listen to the dialogues and repeat each line.</p>
            <div id="dialogue-controls">
                <label for="dialogueSelect">Choose a dialogue:</label>
                <select id="dialogueSelect"></select>
                <span id="dialogue-progress-display" style="margin-left: 1rem; font-weight: bold; font-size: 0.9rem;"></span>
                <button id="play-full-dialogue-btn" class="btn-secondary">Play Full Dialogue</button>
            </div>
            <div id="dialogue-content" style="margin-top: 1rem;"></div>
        </div>

        <div id="phase2-module" class="training-module admin-section">
            <h2>Phase 2: Controlled Question Practice</h2>
            <p>Build varied question types using vocabulary templates.</p>
            <button id="start-drill-btn" class="btn-primary">Start Drill</button>
            <div id="drill-container" style="display: none;">
                <div id="drill-timer">Time left: <span id="timer-display">15</span>s</div>
                <div class="flashcard" id="drill-flashcard">
                    <div class="flashcard-inner">
                        <div class="flashcard-front" id="drill-card-front"></div>
                        <div class="flashcard-back" id="drill-card-back"></div>
                    </div>
                </div>
                <div id="drill-nav">
                    <button id="drill-prev-btn">Previous</button>
                    <button id="drill-flip-btn">Flip</button>
                    <button id="drill-next-btn">Next</button>
                </div>
                <div id="drill-pagination"></div>
            </div>
        </div>

        <div id="phase3-module" class="training-module admin-section">
            <h2>Phase 3: Semi-Guided Roleplays</h2>
            <p>Practice fluid, realistic dialogue in context. Start with a cloze (fill-in-the-blanks) activity.</p>
            <div id="roleplay-setup">
                <label for="roleplay-scenario-select">Choose a scenario:</label>
                <select id="roleplay-scenario-select"></select>
                <button id="start-roleplay-btn" class="btn-primary">Start Cloze Activity</button>
            </div>
            <div id="roleplay-container" style="display: none; margin-top: 1rem;">
                <h3 id="roleplay-title"></h3>
                <div id="roleplay-script-content"></div>
                <button id="check-roleplay-answers-btn" class="btn-secondary" style="margin-top: 1rem;">Check Answers</button>
            </div>
        </div>

        <div id="phase4-module" class="training-module admin-section">
            <h2>Phase 4: Spontaneity Drills</h2>
            <p>Build your real-time reaction ability. Select a scenario, roll the dice, and form a question in 10-15 seconds.</p>
            <div id="dice-game-setup">
                <label for="dice-game-scenario-select">Select Scenario:</label>
                <select id="dice-game-scenario-select"></select>
            </div>
            <div id="dice-game-main" style="margin-top: 1rem; text-align: center;">
                <button id="roll-dice-btn" class="btn-primary" style="padding: 1rem 2rem; font-size: 1.2rem;">Roll Dice</button>
                <div id="dice-result-display" class="card" style="font-size: 2rem; font-weight: bold; margin-top: 1rem; padding: 2rem; min-height: 50px;">?</div>
            </div>
        </div>

        <div id="phase5-module" class="training-module admin-section">
            <h2>Phase 5: Script Writing & Reuse</h2>
            <p>Write your own dialogues, save them, and get feedback.</p>
            <div id="script-manager">
                <div id="script-loader" style="margin-bottom: 1rem;">
                    <label for="user-script-select">Load a saved script:</label>
                    <select id="user-script-select"></select>
                </div>
                <div id="script-editor">
                    <input type="text" id="script-name-input" placeholder="Enter script name" class="form-control">
                    <textarea id="script-content-textarea" rows="10" placeholder="Write your script here..." class="form-control"></textarea>
                    <div id="script-actions" style="margin-top: 1rem; text-align: right; display:flex; gap: 1rem; justify-content: flex-end;">
                        <button id="save-script-btn" class="btn-primary">Save Script</button>
                        <button id="delete-script-btn" class="btn-danger">Delete Script</button>
                        <button id="perform-script-btn" class="btn-secondary">Perform Script</button>
                    </div>
                </div>
                <div id="script-feedback-container" class="card" style="margin-top: 1.5rem;">
                    <h4>Script Analysis</h4>
                    <div id="script-feedback-content"></div>
                </div>
            </div>
        </div>
    </main>
</div>

<footer class="site-footer">
    <p>Â© 2025 TEFinitely.ca | All Rights Reserved</p>
</footer>

<script src="js/toast.js"></script>
<script src="js/main.js"></script>
<script src="js/training.js"></script>
</body>
</html>
